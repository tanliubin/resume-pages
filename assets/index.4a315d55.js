var e=Object.defineProperty,t=Object.defineProperties,o=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,o,r)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[o]=r,i=(e,t)=>{for(var o in t||(t={}))a.call(t,o)&&s(e,o,t[o]);if(r)for(var o of r(t))n.call(t,o)&&s(e,o,t[o]);return e};import{b as l,d,s as u,e as c,T as p,f as m,a as f,h as j,j as b}from"./index.0196ef0b.js";const g=e=>{let{url:r,method:a="get",data:n={},header:s={},showLoading:g=!1,ignoreToken:y=!1,needQuery:v=!1,ignoreRepeatSubmit:h=!1}=e;if(g&&l({title:"加载中..."}),s["Content-Type"]=v?"application/x-www-form-urlencoded":"application/json",!h&&["post","put","delete"].includes(a.toLowerCase())){const e={url:{}.VITE_APP_BASE_URL+r,data:"object"==typeof n?JSON.stringify(n):n,time:(new Date).getTime()},t=d("sessionObj");if(t){const o=t.url,r=t.data,a=t.time,n=1e3;if(r===e.data&&e.time-a<n&&o===e.url){const e="数据正在处理，请勿重复提交";return console.warn(`[${o}]: `+e),Promise.reject(new Error(e))}u("sessionObj",e)}else u("sessionObj",e)}return new Promise(((e,l)=>{var u,v;c({url:{}.VITE_APP_BASE_URL+r,method:a,data:n,header:y?i({},s):(u=i({},s),v={[p]:"Bearer "+d(p)},t(u,o(v))),success:t=>{var o,r,a;return 401===(null==(o=null==t?void 0:t.data)?void 0:o.code)?(m(),l(t)):200!==(null==t?void 0:t.statusCode)||0!==(null==(r=null==t?void 0:t.data)?void 0:r.code)?(f({title:(null==(a=null==t?void 0:t.data)?void 0:a.msg)||"系统错误,请稍后再试",icon:"none"}),l(t)):void e(t.data)},fail:e=>{var t;f({title:(null==(t=null==e?void 0:e.data)?void 0:t.msg)||"系统错误,请稍后再试",icon:"none"}),l(e)},complete:()=>{h||j("sessionObj"),g&&b(),e()}})}))},y=function(e){return g({url:"/jy/getPlacement",method:"post",data:e})},v=function(e){return g({url:"/jy/getIntroductionOptions",method:"get",data:e})},h=function(e){return g({url:"/jy/getAllOptions",method:"get",data:e})},O=function(e){return g({url:"/jy/checkIdCard",method:"get",data:e})},w=function(e){return g({url:`/jy/areaInfo?id=${e}`,method:"post",ignoreRepeatSubmit:!0})},P=function(e){return g({url:"/jy/saveResume",method:"post",data:e})},A=function(e){return g({url:"/jy/oAuth2Check",method:"get",data:e})};export{v as a,y as b,O as c,h as d,w as e,A as g,P as s};
