import{b as t,d as e,s as o,e as a,f as n,a as s,h as r,j as i}from"./index.6dc67b24.js";const d=d=>{let{url:l,method:u="get",data:c={},showLoading:m=!1,ignoreRepeatSubmit:g=!1}=d;if(m&&t({title:"加载中..."}),!g&&["post","put","delete"].includes(u.toLowerCase())){const t={url:"https://ticket.cqzdrl.com"+l,data:"object"==typeof c?JSON.stringify(c):c,time:(new Date).getTime()},a=e("sessionObj");if(a){const e=a.url,n=a.data,s=a.time,r=1e3;if(n===t.data&&t.time-s<r&&e===t.url){const t="数据正在处理，请勿重复提交";return console.warn(`[${e}]: `+t),Promise.reject(new Error(t))}o("sessionObj",t)}else o("sessionObj",t)}return new Promise(((t,e)=>{a({url:"https://ticket.cqzdrl.com"+l,method:u.toUpperCase(),data:c,success:o=>{var a,r,i;return 401===(null==(a=null==o?void 0:o.data)?void 0:a.code)?(n(),e(o)):200!==(null==o?void 0:o.statusCode)||0!==(null==(r=null==o?void 0:o.data)?void 0:r.code)?(s({title:(null==(i=null==o?void 0:o.data)?void 0:i.msg)||"系统错误,请稍后再试",icon:"none"}),e(o)):void t(o.data)},fail:t=>{var o;console.log(t,"111"),s({title:(null==(o=null==t?void 0:t.data)?void 0:o.msg)||"系统错误,请稍后再试",icon:"none"}),e(t)},complete:()=>{g||r("sessionObj"),m&&i(),t()}})}))},l=function(t){return d({url:"/jy/getPlacement",method:"post",data:t})},u=function(t){return d({url:"/jy/getIntroductionOptions",method:"get",data:t})},c=function(t){return d({url:"/jy/getAllOptions",method:"get",data:t})},m=function(t){return d({url:"/jy/checkIdCard",method:"get",data:t})},g=function(t){return d({url:`/jy/areaInfo?id=${t}`,method:"post",ignoreRepeatSubmit:!0})},p=function(t){return d({url:"/jy/saveResume",method:"post",data:t})},f=function(t){return d({url:"/jy/oAuth2Check",method:"get",data:t})};export{u as a,l as b,m as c,c as d,g as e,f as g,p as s};
